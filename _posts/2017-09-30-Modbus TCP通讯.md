---
layout: post
title: "Modbus TCP通讯"
date: 2017-09-30 
description: "电气"
tag: 电气
---
因为项目中要用到LED显示屏，其支持modbus TCP通讯协议，因为使用的是ET200SP的PLC，所以想采用modbus TCP 进行通讯，具体操作点击[Modbus TCP 通讯](https://www.zybuluo.com/haozhihao/note/902063)


### 注意和疑惑

- 连上后显示`7004`更改ID和IP地址，还是能通讯，说明连上后，更改参数是不起作用的，
- 更改服务器IP地址PLC需重新上电后，可连接其他服务器
- 服务器中断后`status`显示`7002`，说明没连上，连上显示`7004`
- modbus寄存器地址和`DATA_ADDR`是一一对应的，具体对应表，对应的不同读写的功能，在功能块的说明里有详细的对照表
- 同时连接2个服务器，说明示需要独立的client块，独立的背景数据块和ID号，以及IP地址，还没试
### 题外话
十一和中秋将至，就回家陪陪父母吧，看了一篇文章

> 我最无助的时候：你爸躺在地上，而你在通讯录里

想见识世界的心和陪父母还是要找个平衡为好，这半年去了些地方，但都是过客感觉不到什么，感觉还是亲人和朋友才是最重要的呐，其他似乎都与自己的世界无关呐

### MODBUS
测试了下两块板子同时通信，PLC只要对应服务端各用一个modbus客户端功能块即可
